import{r as registerInstance,e as createEvent,h,H as Host,i as getElement}from"./index-8fc7a46a.js";import{b as getIonMode}from"./ionic-global-e0b8d325.js";import{r as raf,g as getElementRoot}from"./helpers-58861e84.js";import{a as hapticSelectionStart,b as hapticSelectionChanged,h as hapticSelectionEnd}from"./haptic-27b3f981.js";import{c as createColorClasses}from"./theme-ff3fc52f.js";var pickerColumnInternalIosCss=":host{padding-left:16px;padding-right:16px;padding-top:0px;padding-bottom:0px;height:200px;outline:none;font-size:22px;-webkit-scroll-snap-type:y mandatory;-ms-scroll-snap-type:y mandatory;scroll-snap-type:y mandatory;overflow-x:hidden;overflow-y:scroll;scrollbar-width:none;text-align:center}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}:host::-webkit-scrollbar{display:none}:host .picker-item{height:34px;line-height:34px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;scroll-snap-align:center}:host .picker-item-empty{scroll-snap-align:none}:host(.picker-column-active) .picker-item.picker-item-active{color:var(--ion-color-base)}@media (any-hover: hover){:host(:focus){outline:none;background:rgba(var(--ion-color-base-rgb), 0.2)}}";var pickerColumnInternalMdCss=":host{padding-left:16px;padding-right:16px;padding-top:0px;padding-bottom:0px;height:200px;outline:none;font-size:22px;-webkit-scroll-snap-type:y mandatory;-ms-scroll-snap-type:y mandatory;scroll-snap-type:y mandatory;overflow-x:hidden;overflow-y:scroll;scrollbar-width:none;text-align:center}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}:host::-webkit-scrollbar{display:none}:host .picker-item{height:34px;line-height:34px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;scroll-snap-align:center}:host .picker-item-empty{scroll-snap-align:none}:host(.picker-column-active) .picker-item.picker-item-active{color:var(--ion-color-base)}@media (any-hover: hover){:host(:focus){outline:none;background:rgba(var(--ion-color-base-rgb), 0.2)}}:host .picker-item-active{color:var(--ion-color-base)}";var PickerColumnInternal=function(){function e(e){var t=this;registerInstance(this,e);this.ionChange=createEvent(this,"ionChange",7);this.hapticsStarted=false;this.isActive=false;this.items=[];this.color="primary";this.numericInput=false;this.centerPickerItemInView=function(e,i){if(i===void 0){i=true}t.el.scroll({top:e.offsetTop-3*e.clientHeight+e.clientHeight/2,left:0,behavior:i?"smooth":undefined})};this.inputModeChange=function(e){if(!t.numericInput){return}var i=e.detail,n=i.inputMode,r=i.inputModeColumn;var o=r===undefined||r===t.el;if(!n||!o){t.isActive=false;return}t.isActive=true};this.initializeScrollListener=function(){var e=t.el;var i;var n=t.activeItem;var r=function(){raf((function(){if(i){clearTimeout(i);i=undefined}if(!t.hapticsStarted){hapticSelectionStart();t.hapticsStarted=true}var r=e.getBoundingClientRect();var o=r.x+r.width/2;var a=r.y+r.height/2;var s=e.shadowRoot.elementFromPoint(o,a);if(n!==null){n.classList.remove(PICKER_COL_ACTIVE)}if(s!==n){hapticSelectionChanged()}n=s;s.classList.add(PICKER_COL_ACTIVE);i=setTimeout((function(){var e=s.getAttribute("data-index");if(e===null){return}var i=parseInt(e,10);var n=t.items[i];if(n.value!==t.value){t.value=n.value;hapticSelectionEnd();t.hapticsStarted=false}}),250)}))};raf((function(){e.addEventListener("scroll",r);t.destroyScrollListener=function(){e.removeEventListener("scroll",r)}}))}}e.prototype.valueChange=function(){var e=this,t=e.items,i=e.value;this.scrollActiveItemIntoView();var n=t.find((function(e){return e.value===i}));if(n){this.ionChange.emit(n)}};e.prototype.componentWillLoad=function(){var e=this;var t=function(t){var i=t[0];if(i.isIntersecting){e.scrollActiveItemIntoView();e.initializeScrollListener()}else{if(e.destroyScrollListener){e.destroyScrollListener();e.destroyScrollListener=undefined}}};new IntersectionObserver(t,{threshold:.01}).observe(this.el);var i=this.el.closest("ion-picker-internal");if(i!==null){i.addEventListener("ionInputModeChange",(function(t){return e.inputModeChange(t)}))}};e.prototype.scrollActiveItemIntoView=function(){var e=this.activeItem;if(e){this.centerPickerItemInView(e,false);e.classList.add(PICKER_COL_ACTIVE)}};Object.defineProperty(e.prototype,"activeItem",{get:function(){return getElementRoot(this.el).querySelector('.picker-item[data-value="'+this.value+'"]')},enumerable:false,configurable:true});e.prototype.render=function(){var e;var t=this;var i=this,n=i.items,r=i.color,o=i.isActive,a=i.numericInput;var s=getIonMode(this);return h(Host,{tabindex:0,class:createColorClasses(r,(e={},e[s]=true,e["picker-column-active"]=o,e["picker-column-numeric-input"]=a,e))},h("div",{class:"picker-item picker-item-empty"}," "),h("div",{class:"picker-item picker-item-empty"}," "),h("div",{class:"picker-item picker-item-empty"}," "),n.map((function(e,i){return h("div",{class:"picker-item","data-value":e.value,"data-index":i,onClick:function(e){t.centerPickerItemInView(e.target)}},e.text)})),h("div",{class:"picker-item picker-item-empty"}," "),h("div",{class:"picker-item picker-item-empty"}," "),h("div",{class:"picker-item picker-item-empty"}," "))};Object.defineProperty(e.prototype,"el",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{value:["valueChange"]}},enumerable:false,configurable:true});return e}();var PICKER_COL_ACTIVE="picker-item-active";PickerColumnInternal.style={ios:pickerColumnInternalIosCss,md:pickerColumnInternalMdCss};export{PickerColumnInternal as ion_picker_column_internal};